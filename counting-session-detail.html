<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counting Detay - IMMA</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<!--
================================================================================
IMMA DEVELOPER DOCUMENTATION
================================================================================

SCREEN: 22 IC-C - Inventory Counting (Session Detail)
FILE: counting-session-detail.html
LAST UPDATED: 2025-12-18

--------------------------------------------------------------------------------
RELATED DATABASE TABLES
--------------------------------------------------------------------------------

TABLE: Inventory Counting Header (Data Structure IMMA.xlsx)
| Field Name                    | Type     | Length | Description                  |
|-------------------------------|----------|--------|------------------------------|
| Inventory Counting Header Id  | int      | 8      | Primary key                  |
| Correction type               | char     | 1      | DÃ¼zeltme tipi                |
| Creation date time            | datetime | -      | OluÅŸturma tarihi             |
| Created by user info          | int      | 8      | OluÅŸturan kullanÄ±cÄ±          |
| Created for user info         | int      | 8      | SayÄ±mÄ± yapacak kullanÄ±cÄ±     |
| Counted by user info          | int      | 8      | Sayan kullanÄ±cÄ±              |
| Entered by user info          | int      | 8      | Veri giriÅŸ kullanÄ±cÄ±sÄ±       |
| Document group Id             | int      | 8      | Ek dokÃ¼manlar grubu          |
| Correction finalized check    | bool     | -      | DÃ¼zeltme tamamlandÄ± mÄ±       |

TABLE: Inventory Counting Item (Data Structure IMMA.xlsx)
| Field Name                    | Type     | Length | Description                  |
|-------------------------------|----------|--------|------------------------------|
| Inventory Counting item id    | int      | 8      | Primary key                  |
| Inventory Counting item number| int      | 4      | SatÄ±r numarasÄ±               |
| Material number               | text     | 13     | Malzeme numarasÄ±             |
| Stock record Id               | int      | 8      | Stok kaydÄ± referansÄ±         |
| Stock quantity                | float    | 15     | Sistem stok miktarÄ±          |
| Counting result quantity      | float    | 15     | SayÄ±m sonucu miktarÄ±         |

--------------------------------------------------------------------------------
Ä°Å KURALLARI (Business Rules)
--------------------------------------------------------------------------------

ENVANTER DÃœZELTMELERÄ° Ä°Å KURALLARI:
1. AÃ§Ä±k sayÄ±m belgesi varsa etkilenen malzemeler iÃ§in yeni malzeme talebi engellenir
   ancak onay sÃ¼reci devam edebilmelidir
2. SayÄ±m belgesi mevcut stok miktarlarÄ±nÄ± iÃ§ermemelidir
3. Tekli malzeme envanter dÃ¼zeltmesi iÃ§in onay sÃ¼reci olmayacaktÄ±r
4. SayÄ±m bin bazÄ±nda yapÄ±ldÄ±ÄŸÄ±ndan sayÄ±m belgesi kapsamÄ± iÃ§in seÃ§im listesi
   bin numaralarÄ±na gÃ¶re ayrÄ±lmÄ±ÅŸ bilgi iÃ§erecektir
5. DiÄŸer ve hurda envanter dÃ¼zeltmeleri iÃ§in onaylayan yÃ¶netici malzeme grubuna
   baÄŸlÄ± kayÄ±ttan seÃ§ilecektir. SÃ¼reÃ§ endirek ve GPS malzeme anahtar kullanÄ±cÄ±sÄ±
   tarafÄ±ndan baÅŸlatÄ±lacak ve muhasebe ile ilgiliyse muhasebe endirek ve GPS
   sorumlu kullanÄ±cÄ±sÄ± tarafÄ±ndan tamamlanacaktÄ±r.
6. Ek belge zorunludur
7. AÃ§Ä±klama zorunludur
8. Onay sÄ±rasÄ± malzeme grubuna baÄŸlÄ± kayÄ±ttaki gibi takip edilecektir
   (onay sÄ±rasÄ±, departman kodu, malzeme grubu)
9. Stok transferleri ile dÃ¼zeltmeler yalnÄ±zca malzemenin tÃ¼m stoÄŸu aynÄ± sayÄ±m
   belgesi iÃ§inde sayÄ±ma seÃ§ildiÄŸinde hesaplanÄ±r. Bir bin'deki eksik miktarÄ±
   baÅŸka bir bin'deki fazla miktardan karÅŸÄ±lamak iÃ§in Ã¶neriler oluÅŸturulacaktÄ±r.
10. TÃ¼m geri almalar yanlÄ±ÅŸlÄ±kla yapÄ±lan bir iÅŸlemin dÃ¼zeltilmesidir.
    Admin kullanÄ±cÄ± tarafÄ±ndan yapÄ±labilir
11. Hurda ve diÄŸer dÃ¼zeltmeler iÃ§in en az bir yÃ¶netici onaylayÄ±cÄ± olarak
    eklenmelidir. Bu belge endirek malzeme anahtar kullanÄ±cÄ±sÄ± tarafÄ±ndan
    oluÅŸturulabilir ve onaylayÄ±cÄ± eklenebilir.

--------------------------------------------------------------------------------
MOVEMENT TYPES FOR INVENTORY
--------------------------------------------------------------------------------

| Code | Type                    | Description                    |
|------|-------------------------|--------------------------------|
| 8    | Inventory positive record| SayÄ±m fazlasÄ± (stok artÄ±ÅŸÄ±)   |
| 9    | Inventory negative record| SayÄ±m eksiÄŸi (stok azalmasÄ±)  |

--------------------------------------------------------------------------------
DISPLAYED INFORMATION
--------------------------------------------------------------------------------

Session Header:
- Counting document Id
- Counting Type (YÄ±llÄ±k/DÃ¶nemsel)
- Storage
- Status
- Creation date time
- Created by user info
- Counted by user info
- Total Items

Item Table Columns:
- Item (satÄ±r no)
- Material number
- Material title
- Storage / Location / Bin
- System Quantity
- Counting result Quantity
- Differences by quantity
- Unit value
- Differences by quantity Value

Summary Stats:
- Total Items
- Counted Items
- Items with Difference
- Total Difference Value

--------------------------------------------------------------------------------
NAVIGATION & URL PARAMETERS
--------------------------------------------------------------------------------

URL Parameters:
- id (required) - SayÄ±m oturumu ID'si

Entry Points:
- inventory-counting.html'deki "GÃ¶rÃ¼ntÃ¼le" butonu
- URL: counting-session-detail.html?id={sessionId}

JavaScript Functions:
- getUrlParams() - URL'den id parametresini alÄ±r
- initializePage() - Sayfa yÃ¼klendiÄŸinde oturumu baÅŸlatÄ±r
- loadSessionData(session) - Oturum verilerini UI'a yÃ¼kler

Supported Session IDs (Demo Data):
- IC-HDR-2025-0012, IC-HDR-2025-0011, IC-HDR-2025-0010, IC-HDR-2025-0009

================================================================================
-->
<body>
    <!-- NAVBAR -->
    <nav class="modern-navbar">
        <div class="navbar-container">
            <a href="index.html" class="navbar-brand">
                <div class="navbar-logo">M</div>
                <div class="brand-text">
                    <span class="brand-name">IMMA</span>
                    <span class="brand-subtitle">Endirek Malzeme YÃ¶netimi</span>
                </div>
            </a>
            <ul class="navbar-menu">
                <li class="nav-item"><a href="index.html" class="nav-link"><span class="nav-icon">ğŸ“Š</span>Dashboard</a></li>
                <li class="nav-item"><a href="material-list.html" class="nav-link"><span class="nav-icon">ğŸ“¦</span>Ana Veriler</a></li>
                <li class="nav-item"><a href="mrp.html" class="nav-link"><span class="nav-icon">ğŸ“ˆ</span>MRP</a></li>
                <li class="nav-item"><a href="srm-list.html" class="nav-link"><span class="nav-icon">ğŸ›’</span>SatÄ±nalma</a></li>
                <li class="nav-item"><a href="budget-management.html" class="nav-link"><span class="nav-icon">ğŸ’°</span>Budget</a></li>
                <li class="nav-item"><a href="material-request-list.html" class="nav-link"><span class="nav-icon">ğŸ“‹</span>Talepler</a></li>
                <li class="nav-item">
                    <a href="transfer-list.html" class="nav-link active"><span class="nav-icon">ğŸ­</span>Stock</a>
                    <div class="dropdown-menu">
                        <a href="direct-issue.html" class="dropdown-item">DoÄŸrudan Ã‡Ä±kÄ±ÅŸ</a>
                        <a href="warehouse-transfer.html" class="dropdown-item">Depo Transferi</a>
                        <a href="transfer-list.html" class="dropdown-item">Transfer Listesi</a>
                        <a href="inventory-counting.html" class="dropdown-item active">SayÄ±m Ä°ÅŸlemleri</a>
                        <a href="single-material-counting.html" class="dropdown-item">Tekli Malzeme SayÄ±mÄ±</a>
                        <a href="scrapping.html" class="dropdown-item">Hurda Ä°ÅŸlemleri</a>
                    </div>
                </li>
                <li class="nav-item">
                    <a href="user-material-limit-list.html" class="nav-link">
                        <span class="nav-icon">âš™ï¸</span>
                        Ayarlar
                    </a>
                    <div class="dropdown-menu">
                        <a href="user-material-limit-list.html" class="dropdown-item">KullanÄ±cÄ± Malzeme Limitleri</a>
                        <a href="accounting-confirmation.html" class="dropdown-item">Muhasebe OnaylarÄ±</a>
                    </div>
                </li>
            </ul>
            <div class="navbar-user">
                <span class="user-name">Ahmet YÄ±lmaz</span>
                <div class="user-avatar">AY</div>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="modern-container">
        <div class="page-header">
            <div>
                <h1 class="page-title">Counting DetaylarÄ±</h1>
                <p class="page-subtitle">Stock > SayÄ±m Ä°ÅŸlemleri > <span id="sessionId">-</span></p>
            </div>
            <div class="page-actions">
                <a href="inventory-counting.html" class="btn btn-outline">â† Geri DÃ¶n</a>
            </div>
        </div>

        <!-- Session Header Info -->
        <div class="card">
            <div class="card-header">
                <h3>Counting Session Information</h3>
            </div>
            <div class="card-body">
                <div class="detail-header">
                    <div class="detail-row">
                        <div class="detail-col">
                            <label>Counting document Id</label>
                            <div id="detailId" class="detail-value">-</div>
                        </div>
                        <div class="detail-col">
                            <label>Counting Type</label>
                            <div id="detailType" class="detail-value">-</div>
                        </div>
                        <div class="detail-col">
                            <label>Storage</label>
                            <div id="detailStorage" class="detail-value">-</div>
                        </div>
                        <div class="detail-col">
                            <label>Status</label>
                            <div id="detailStatus" class="detail-value">-</div>
                        </div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-col">
                            <label>Creation date time</label>
                            <div id="detailCreationDate" class="detail-value">-</div>
                        </div>
                        <div class="detail-col">
                            <label>Created by user info</label>
                            <div id="detailCreatedBy" class="detail-value">-</div>
                        </div>
                        <div class="detail-col">
                            <label>Counted by user info</label>
                            <div id="detailCreatedFor" class="detail-value">-</div>
                        </div>
                        <div class="detail-col">
                            <label>Total Items</label>
                            <div id="detailTotalItems" class="detail-value">-</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Detail Items Table -->
        <div class="card">
            <div class="card-header">
                <h3>Counting Items</h3>
            </div>
            <div class="card-body">
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Material number</th>
                                <th>Material title</th>
                                <th>Storage</th>
                                <th>Location</th>
                                <th>Bin</th>
                                <th>System Quantity</th>
                                <th>Counting result Quantity</th>
                                <th>Differences by quantity</th>
                                <th>Unit value</th>
                                <th>Differences by quantity Value</th>
                            </tr>
                        </thead>
                        <tbody id="detailItemsTable">
                            <tr>
                                <td>1</td>
                                <td><strong>MAT-ELC-0234</strong></td>
                                <td>Motor Rulman SKF 6205</td>
                                <td>Merkez Storage</td>
                                <td>A</td>
                                <td>A-01</td>
                                <td>45 PC</td>
                                <td><strong>43 PC</strong></td>
                                <td class="difference-negative">-2</td>
                                <td>125.50 TRY</td>
                                <td class="difference-negative">-251.00 TRY</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td><strong>MAT-MEC-0891</strong></td>
                                <td>V KayÄ±ÅŸ A-45</td>
                                <td>Merkez Storage</td>
                                <td>A</td>
                                <td>A-01</td>
                                <td>120 PC</td>
                                <td><strong>125 PC</strong></td>
                                <td class="difference-positive">+5</td>
                                <td>85.00 TRY</td>
                                <td class="difference-positive">+425.00 TRY</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td><strong>MAT-HYD-0456</strong></td>
                                <td>Hidrolik YaÄŸ ISO VG 46</td>
                                <td>Merkez Storage</td>
                                <td>A</td>
                                <td>A-02</td>
                                <td>200 L</td>
                                <td><strong>200 L</strong></td>
                                <td class="difference-zero">0</td>
                                <td>45.75 TRY</td>
                                <td class="difference-zero">0.00 TRY</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td><strong>MAT-ELC-0567</strong></td>
                                <td>KontaktÃ¶r 25A 220V</td>
                                <td>Merkez Storage</td>
                                <td>A</td>
                                <td>A-01</td>
                                <td>32 PC</td>
                                <td><strong>30 PC</strong></td>
                                <td class="difference-negative">-2</td>
                                <td>245.00 TRY</td>
                                <td class="difference-negative">-490.00 TRY</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td><strong>MAT-CON-0123</strong></td>
                                <td>Conta NBR 30x42x7</td>
                                <td>Merkez Storage</td>
                                <td>A</td>
                                <td>A-02</td>
                                <td>156 PC</td>
                                <td><strong>160 PC</strong></td>
                                <td class="difference-positive">+4</td>
                                <td>12.50 TRY</td>
                                <td class="difference-positive">+50.00 TRY</td>
                            </tr>
                            <tr>
                                <td>6</td>
                                <td><strong>MAT-PNE-0789</strong></td>
                                <td>PnÃ¶matik Valf 5/2 24V</td>
                                <td>Merkez Storage</td>
                                <td>A</td>
                                <td>A-01</td>
                                <td>28 PC</td>
                                <td><strong>28 PC</strong></td>
                                <td class="difference-zero">0</td>
                                <td>185.00 TRY</td>
                                <td class="difference-zero">0.00 TRY</td>
                            </tr>
                            <tr>
                                <td>7</td>
                                <td><strong>MAT-BRG-0345</strong></td>
                                <td>BilyalÄ± Rulman 6208-2RS</td>
                                <td>Merkez Storage</td>
                                <td>B</td>
                                <td>B-01</td>
                                <td>50 PC</td>
                                <td><strong>48 PC</strong></td>
                                <td class="difference-negative">-2</td>
                                <td>89.00 TRY</td>
                                <td class="difference-negative">-178.00 TRY</td>
                            </tr>
                            <tr>
                                <td>8</td>
                                <td><strong>MAT-FLT-0678</strong></td>
                                <td>YaÄŸ Filtresi HF-150</td>
                                <td>Merkez Storage</td>
                                <td>B</td>
                                <td>B-02</td>
                                <td>75 PC</td>
                                <td><strong>77 PC</strong></td>
                                <td class="difference-positive">+2</td>
                                <td>35.00 TRY</td>
                                <td class="difference-positive">+70.00 TRY</td>
                            </tr>
                            <tr>
                                <td>9</td>
                                <td><strong>MAT-SEN-0901</strong></td>
                                <td>Proximity SensÃ¶r M18</td>
                                <td>Merkez Storage</td>
                                <td>B</td>
                                <td>B-01</td>
                                <td>24 PC</td>
                                <td><strong>24 PC</strong></td>
                                <td class="difference-zero">0</td>
                                <td>145.00 TRY</td>
                                <td class="difference-zero">0.00 TRY</td>
                            </tr>
                            <tr>
                                <td>10</td>
                                <td><strong>MAT-CBL-0234</strong></td>
                                <td>Kontrol Kablosu 4x1.5</td>
                                <td>Merkez Storage</td>
                                <td>C</td>
                                <td>C-01</td>
                                <td>500 M</td>
                                <td><strong>495 M</strong></td>
                                <td class="difference-negative">-5</td>
                                <td>8.50 TRY</td>
                                <td class="difference-negative">-42.50 TRY</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Summary -->
        <div class="card">
            <div class="card-header">
                <h3>Ã–zet</h3>
            </div>
            <div class="card-body">
                <div class="summary-stats">
                    <div class="stat-item">
                        <label>Total Items</label>
                        <div class="stat-value" id="totalItems">247</div>
                    </div>
                    <div class="stat-item">
                        <label>Counting result Quantity</label>
                        <div class="stat-value" style="color: #28a745;" id="countedItems">247</div>
                    </div>
                    <div class="stat-item">
                        <label>Differences</label>
                        <div class="stat-value" style="color: #ffc107;" id="differenceItems">18</div>
                    </div>
                    <div class="stat-item">
                        <label>Toplam Differences by quantity DeÄŸeri</label>
                        <div class="stat-value" style="color: #dc3545;" id="totalDifference">3,247.50 TRY</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <style>
        .detail-header {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .detail-row {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }
        .detail-col label {
            font-size: 12px;
            color: #666;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: block;
            margin-bottom: 5px;
        }
        .detail-value {
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
        }
        .table-container {
            overflow: auto;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            max-height: 400px;
        }
        .table-container table {
            margin-bottom: 0;
            min-width: 1200px;
        }
        .table-container thead {
            position: sticky;
            top: 0;
            background: white;
            z-index: 10;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .table-container thead th {
            background: #f8f9fa;
            white-space: nowrap;
        }
        .difference-positive { color: #28a745; font-weight: 700; }
        .difference-negative { color: #dc3545; font-weight: 700; }
        .difference-zero { color: #6c757d; font-weight: 600; }
        .summary-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 8px;
        }
        .stat-item { text-align: center; }
        .stat-item label {
            font-size: 12px;
            color: #666;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: block;
            margin-bottom: 8px;
        }
        .stat-value {
            font-size: 28px;
            font-weight: 700;
            color: #2c3e50;
        }
    </style>

    <script>
        // Sample session data
        const sessions = {
            'IC-HDR-2025-0012': {
                id: 'IC-HDR-2025-0012',
                type: 'YÄ±llÄ±k',
                storage: 'Merkez Storage',
                status: 'TamamlandÄ±',
                statusClass: 'status-active',
                creationDate: '2025-12-14',
                createdBy: 'Ahmet YÄ±lmaz',
                createdFor: 'Mehmet Kaya',
                totalItems: 247,
                countedItems: 247,
                differenceItems: 18,
                totalDifference: '3,247.50 TRY'
            },
            'IC-HDR-2025-0011': {
                id: 'IC-HDR-2025-0011',
                type: 'DÃ¶nemsel',
                storage: 'Hat 1 Deposu',
                status: 'TamamlandÄ±',
                statusClass: 'status-active',
                creationDate: '2025-12-10',
                createdBy: 'Ahmet YÄ±lmaz',
                createdFor: 'Ali Veli',
                totalItems: 89,
                countedItems: 89,
                differenceItems: 5,
                totalDifference: '1,125.00 TRY'
            },
            'IC-HDR-2025-0010': {
                id: 'IC-HDR-2025-0010',
                type: 'DÃ¶nemsel',
                storage: 'Konsinye Storage',
                status: 'TamamlandÄ±',
                statusClass: 'status-active',
                creationDate: '2025-12-05',
                createdBy: 'Ahmet YÄ±lmaz',
                createdFor: 'Fatma Åen',
                totalItems: 156,
                countedItems: 156,
                differenceItems: 12,
                totalDifference: '2,890.00 TRY'
            },
            'IC-HDR-2025-0009': {
                id: 'IC-HDR-2025-0009',
                type: 'YÄ±llÄ±k',
                storage: 'YardÄ±mcÄ± Storage',
                status: 'TamamlandÄ±',
                statusClass: 'status-active',
                creationDate: '2025-11-28',
                createdBy: 'Ahmet YÄ±lmaz',
                createdFor: 'Kemal AydÄ±n',
                totalItems: 324,
                countedItems: 324,
                differenceItems: 22,
                totalDifference: '5,430.00 TRY'
            }
        };

        function getUrlParams() {
            const params = new URLSearchParams(window.location.search);
            return { id: params.get('id') || null };
        }

        function initializePage() {
            const { id } = getUrlParams();
            if (id && sessions[id]) {
                loadSessionData(sessions[id]);
            } else {
                alert('Counting oturumu bulunamadÄ±!');
                window.location.href = 'inventory-counting.html';
            }
        }

        function loadSessionData(session) {
            document.getElementById('sessionId').textContent = session.id;
            document.getElementById('detailId').textContent = session.id;
            document.getElementById('detailType').textContent = session.type;
            document.getElementById('detailStorage').textContent = session.storage;
            document.getElementById('detailStatus').innerHTML = `<span class="status-badge ${session.statusClass}">${session.status}</span>`;
            document.getElementById('detailCreationDate').textContent = session.creationDate;
            document.getElementById('detailCreatedBy').textContent = session.createdBy;
            document.getElementById('detailCreatedFor').textContent = session.createdFor;
            document.getElementById('detailTotalItems').textContent = session.totalItems;
            document.getElementById('totalItems').textContent = session.totalItems;
            document.getElementById('countedItems').textContent = session.countedItems;
            document.getElementById('differenceItems').textContent = session.differenceItems;
            document.getElementById('totalDifference').textContent = session.totalDifference;
        }

        document.addEventListener('DOMContentLoaded', initializePage);
    </script>

    <!-- DEVELOPER DOCUMENTATION PANEL -->
    <div id="devDocsPanel" class="dev-docs-panel">
        <button class="dev-docs-toggle" onclick="toggleDevDocs()">ğŸ“‹ GeliÅŸtirici DokÃ¼mantasyonu</button>
        <div class="dev-docs-content" id="devDocsContent">
            <div class="dev-docs-header">
                <h2>ğŸ“‹ 22 IC-C - Counting Session Detail</h2>
                <button class="dev-docs-close" onclick="toggleDevDocs()">âœ•</button>
            </div>
            <div class="dev-docs-body">
                <div class="dev-docs-tabs">
                    <button class="dev-tab active" onclick="showDevTab('dataStructure')">Veri YapÄ±larÄ±</button>
                    <button class="dev-tab" onclick="showDevTab('formFields')">Form AlanlarÄ±</button>
                    <button class="dev-tab" onclick="showDevTab('businessRules')">Ä°ÅŸ KurallarÄ±</button>
                    <button class="dev-tab" onclick="showDevTab('navigation')">Navigasyon</button>
                </div>
                <div id="dataStructure" class="dev-tab-content active">
                    <h3>Inventory Counting Header</h3>
                    <table class="dev-table"><thead><tr><th>Field Name</th><th>Type</th><th>Length</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td>Inventory Counting Header Id</td><td>int</td><td>8</td><td>Primary key</td></tr>
                            <tr><td>Correction type</td><td>char</td><td>1</td><td>DÃ¼zeltme tipi</td></tr>
                            <tr><td>Creation date time</td><td>datetime</td><td>-</td><td>OluÅŸturma tarihi</td></tr>
                            <tr><td>Created by user info</td><td>int</td><td>8</td><td>OluÅŸturan kullanÄ±cÄ±</td></tr>
                            <tr><td>Created for user info</td><td>int</td><td>8</td><td>SayÄ±mÄ± yapacak kullanÄ±cÄ±</td></tr>
                            <tr><td>Counted by user info</td><td>int</td><td>8</td><td>Sayan kullanÄ±cÄ±</td></tr>
                            <tr><td>Entered by user info</td><td>int</td><td>8</td><td>Veri giriÅŸ kullanÄ±cÄ±sÄ±</td></tr>
                            <tr><td>Document group Id</td><td>int</td><td>8</td><td>Ek dokÃ¼manlar grubu</td></tr>
                            <tr><td>Correction finalized check</td><td>bool</td><td>-</td><td>DÃ¼zeltme tamamlandÄ± mÄ±</td></tr>
                        </tbody>
                    </table>
                    <h3>Inventory Counting Item</h3>
                    <table class="dev-table"><thead><tr><th>Field Name</th><th>Type</th><th>Length</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td>Inventory Counting item id</td><td>int</td><td>8</td><td>Primary key</td></tr>
                            <tr><td>Inventory Counting item number</td><td>int</td><td>4</td><td>SatÄ±r numarasÄ±</td></tr>
                            <tr><td>Material number</td><td>text</td><td>13</td><td>Malzeme numarasÄ±</td></tr>
                            <tr><td>Stock record Id</td><td>int</td><td>8</td><td>Stok kaydÄ± referansÄ±</td></tr>
                            <tr><td>Stock quantity</td><td>float</td><td>15</td><td>Sistem stok miktarÄ±</td></tr>
                            <tr><td>Counting result quantity</td><td>float</td><td>15</td><td>SayÄ±m sonucu miktarÄ±</td></tr>
                        </tbody>
                    </table>
                    <h3>Movement Types</h3>
                    <table class="dev-table"><thead><tr><th>Code</th><th>Type</th><th>Description</th></tr></thead>
                        <tbody>
                            <tr><td>8</td><td>Inventory positive record</td><td>SayÄ±m fazlasÄ± (stok artÄ±ÅŸÄ±)</td></tr>
                            <tr><td>9</td><td>Inventory negative record</td><td>SayÄ±m eksiÄŸi (stok azalmasÄ±)</td></tr>
                        </tbody>
                    </table>
                </div>
                <div id="formFields" class="dev-tab-content">
                    <h3>Session Header Information (Readonly)</h3>
                    <table class="dev-table">
                        <thead><tr><th>Alan</th><th>ID</th><th>AÃ§Ä±klama</th></tr></thead>
                        <tbody>
                            <tr><td>Counting document Id</td><td>detailId</td><td>SayÄ±m oturum numarasÄ±</td></tr>
                            <tr><td>Counting Type</td><td>detailType</td><td>SayÄ±m tipi (YÄ±llÄ±k/DÃ¶nemsel)</td></tr>
                            <tr><td>Storage</td><td>detailStorage</td><td>Depo adÄ±</td></tr>
                            <tr><td>Status</td><td>detailStatus</td><td>Durum badge</td></tr>
                            <tr><td>Creation date time</td><td>detailCreationDate</td><td>OluÅŸturma tarihi</td></tr>
                            <tr><td>Created by user info</td><td>detailCreatedBy</td><td>OluÅŸturan kullanÄ±cÄ±</td></tr>
                            <tr><td>Counted by user info</td><td>detailCreatedFor</td><td>SayÄ±mÄ± yapan kiÅŸi</td></tr>
                            <tr><td>Total Items</td><td>detailTotalItems</td><td>Toplam kalem sayÄ±sÄ±</td></tr>
                        </tbody>
                    </table>
                    <h3>Counting Items Table (Readonly)</h3>
                    <table class="dev-table">
                        <thead><tr><th>Kolon</th><th>AÃ§Ä±klama</th></tr></thead>
                        <tbody>
                            <tr><td>Item</td><td>SatÄ±r numarasÄ±</td></tr>
                            <tr><td>Material number</td><td>Malzeme numarasÄ±</td></tr>
                            <tr><td>Material title</td><td>Malzeme baÅŸlÄ±ÄŸÄ±</td></tr>
                            <tr><td>Storage</td><td>Depo adÄ±</td></tr>
                            <tr><td>Location</td><td>Lokasyon kodu</td></tr>
                            <tr><td>Bin</td><td>Bin numarasÄ±</td></tr>
                            <tr><td>System Quantity</td><td>Sistem stok miktarÄ±</td></tr>
                            <tr><td>Counting result Quantity</td><td>SayÄ±m sonucu</td></tr>
                            <tr><td>Differences by quantity</td><td>Fark miktarÄ±</td></tr>
                            <tr><td>Unit value</td><td>Birim deÄŸeri</td></tr>
                            <tr><td>Differences by quantity Value</td><td>Fark deÄŸeri TRY</td></tr>
                        </tbody>
                    </table>
                    <h3>Summary Stats (Readonly)</h3>
                    <table class="dev-table">
                        <thead><tr><th>Alan</th><th>ID</th><th>AÃ§Ä±klama</th></tr></thead>
                        <tbody>
                            <tr><td>Total Items</td><td>totalItems</td><td>Toplam kalem sayÄ±sÄ±</td></tr>
                            <tr><td>Counting result Quantity</td><td>countedItems</td><td>SayÄ±lan kalem sayÄ±sÄ±</td></tr>
                            <tr><td>Differences</td><td>differenceItems</td><td>FarklÄ± kalem sayÄ±sÄ±</td></tr>
                            <tr><td>Toplam Differences by quantity DeÄŸeri</td><td>totalDifference</td><td>Toplam fark deÄŸeri TRY</td></tr>
                        </tbody>
                    </table>
                </div>
                <div id="businessRules" class="dev-tab-content">
                    <h3>Envanter DÃ¼zeltmeleri Ä°ÅŸ KurallarÄ±</h3>
                    <div class="rules-section">
                        <ul>
                            <li><strong>Kural 1:</strong> AÃ§Ä±k sayÄ±m belgesi varsa etkilenen malzemeler iÃ§in yeni malzeme talebi engellenir ancak onay sÃ¼reci devam edebilmelidir</li>
                            <li><strong>Kural 2:</strong> SayÄ±m belgesi mevcut stok miktarlarÄ±nÄ± iÃ§ermemelidir</li>
                            <li><strong>Kural 3:</strong> Tekli malzeme envanter dÃ¼zeltmesi iÃ§in onay sÃ¼reci olmayacaktÄ±r</li>
                            <li><strong>Kural 4:</strong> SayÄ±m bin bazÄ±nda yapÄ±ldÄ±ÄŸÄ±ndan sayÄ±m belgesi kapsamÄ± iÃ§in seÃ§im listesi bin numaralarÄ±na gÃ¶re ayrÄ±lmÄ±ÅŸ bilgi iÃ§erecektir</li>
                            <li><strong>Kural 5:</strong> DiÄŸer ve hurda envanter dÃ¼zeltmeleri iÃ§in onaylayan yÃ¶netici malzeme grubuna baÄŸlÄ± kayÄ±ttan seÃ§ilecektir. SÃ¼reÃ§ endirek ve GPS malzeme anahtar kullanÄ±cÄ±sÄ± tarafÄ±ndan baÅŸlatÄ±lacak ve muhasebe ile ilgiliyse muhasebe endirek ve GPS sorumlu kullanÄ±cÄ±sÄ± tarafÄ±ndan tamamlanacaktÄ±r.</li>
                            <li><strong>Kural 6:</strong> Ek belge zorunludur</li>
                            <li><strong>Kural 7:</strong> AÃ§Ä±klama zorunludur</li>
                            <li><strong>Kural 8:</strong> Onay sÄ±rasÄ± malzeme grubuna baÄŸlÄ± kayÄ±ttaki gibi takip edilecektir (onay sÄ±rasÄ±, departman kodu, malzeme grubu)</li>
                            <li><strong>Kural 9:</strong> Stok transferleri ile dÃ¼zeltmeler yalnÄ±zca malzemenin tÃ¼m stoÄŸu aynÄ± sayÄ±m belgesi iÃ§inde sayÄ±ma seÃ§ildiÄŸinde hesaplanÄ±r. Bir bin'deki eksik miktarÄ± baÅŸka bir bin'deki fazla miktardan karÅŸÄ±lamak iÃ§in Ã¶neriler oluÅŸturulacaktÄ±r.</li>
                            <li><strong>Kural 10:</strong> TÃ¼m geri almalar yanlÄ±ÅŸlÄ±kla yapÄ±lan bir iÅŸlemin dÃ¼zeltilmesidir. Admin kullanÄ±cÄ± tarafÄ±ndan yapÄ±labilir</li>
                            <li><strong>Kural 11:</strong> Hurda ve diÄŸer dÃ¼zeltmeler iÃ§in en az bir yÃ¶netici onaylayÄ±cÄ± olarak eklenmelidir. Bu belge endirek malzeme anahtar kullanÄ±cÄ±sÄ± tarafÄ±ndan oluÅŸturulabilir ve onaylayÄ±cÄ± eklenebilir.</li>
                        </ul>
                    </div>
                </div>
                <div id="navigation" class="dev-tab-content">
                    <h3>URL Parametreleri</h3>
                    <div class="rules-section">
                        <ul>
                            <li><strong>id</strong> (required) - SayÄ±m oturumu ID'si</li>
                        </ul>
                    </div>
                    <h3>GiriÅŸ NoktalarÄ±</h3>
                    <div class="rules-section">
                        <ul>
                            <li>inventory-counting.html'deki "GÃ¶rÃ¼ntÃ¼le" butonu</li>
                            <li>URL: counting-session-detail.html?id={sessionId}</li>
                        </ul>
                    </div>
                    <h3>JavaScript Functions</h3>
                    <div class="rules-section">
                        <ul>
                            <li><strong>getUrlParams()</strong> - URL'den id parametresini alÄ±r</li>
                            <li><strong>initializePage()</strong> - Sayfa yÃ¼klendiÄŸinde oturumu baÅŸlatÄ±r</li>
                            <li><strong>loadSessionData(session)</strong> - Oturum verilerini UI'a yÃ¼kler</li>
                        </ul>
                    </div>
                    <h3>Demo Session IDs</h3>
                    <div class="rules-section">
                        <ul>
                            <li>IC-HDR-2025-0012 (YÄ±llÄ±k - Merkez Storage)</li>
                            <li>IC-HDR-2025-0011 (DÃ¶nemsel - Hat 1 Deposu)</li>
                            <li>IC-HDR-2025-0010 (DÃ¶nemsel - Konsinye Storage)</li>
                            <li>IC-HDR-2025-0009 (YÄ±llÄ±k - YardÄ±mcÄ± Storage)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <style>.dev-docs-panel{position:fixed;bottom:0;left:0;right:0;z-index:9999;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif}.dev-docs-toggle{position:absolute;bottom:100%;right:20px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;padding:10px 20px;border-radius:8px 8px 0 0;cursor:pointer;font-weight:600;font-size:14px;box-shadow:0 -2px 10px rgba(0,0,0,0.2)}.dev-docs-content{display:none;background:#1a1a2e;color:#eee;max-height:60vh;overflow-y:auto;box-shadow:0 -5px 20px rgba(0,0,0,0.3)}.dev-docs-content.active{display:block}.dev-docs-header{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);position:sticky;top:0}.dev-docs-header h2{margin:0;font-size:18px}.dev-docs-close{background:rgba(255,255,255,0.2);border:none;color:#fff;width:30px;height:30px;border-radius:50%;cursor:pointer;font-size:16px}.dev-docs-body{padding:20px}.dev-docs-tabs{display:flex;gap:10px;margin-bottom:20px;border-bottom:1px solid #333;padding-bottom:10px}.dev-tab{background:#2d2d44;color:#aaa;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;transition:all 0.3s}.dev-tab:hover,.dev-tab.active{background:#667eea;color:#fff}.dev-tab-content{display:none}.dev-tab-content.active{display:block}.dev-table{width:100%;border-collapse:collapse;margin:15px 0;font-size:13px}.dev-table th,.dev-table td{padding:10px;text-align:left;border:1px solid #333}.dev-table th{background:#2d2d44;color:#667eea;font-weight:600}.dev-table tr:nth-child(even){background:#252538}.dev-docs-body h3{color:#667eea;margin:20px 0 10px;font-size:16px;border-bottom:1px solid #333;padding-bottom:5px}.dev-docs-body h4{color:#aaa;margin:15px 0 8px;font-size:14px}.dev-docs-body ul{margin:0 0 15px 20px;line-height:1.8}.rules-section{background:#252538;padding:15px;border-radius:8px;margin-bottom:15px}</style>
    <script>function toggleDevDocs(){document.getElementById('devDocsContent').classList.toggle('active')}function showDevTab(tabId){document.querySelectorAll('.dev-tab-content').forEach(c=>c.classList.remove('active'));document.querySelectorAll('.dev-tab').forEach(t=>t.classList.remove('active'));document.getElementById(tabId).classList.add('active');event.target.classList.add('active')}</script>
</body>
</html>
